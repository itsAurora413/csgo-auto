{"ast":null,"code":"import axios from'axios';// 使用本地Go后端代理，避免CORS问题\nconst MARKET_API_BASE_URL='/api/v1/csqaq';// 创建axios实例用于本地代理API\nconst marketApi=axios.create({baseURL:MARKET_API_BASE_URL,timeout:10000,headers:{'Content-Type':'application/json'}});// 市场数据接口定义\n// CSQAQ 指数K线返回结构\n// Apifox 周期类型\nclass MarketApiService{// 初始化饰品ID（按输入关键词）\nasync initGoods(keyword){var _response$data;let pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;const response=await marketApi.post('/init-goods',{keyword,page_size:pageSize});return((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.data)||{count:0,items:[]};}// 列出已保存的饰品ID\nasync listGoods(params){var _response$data2;const response=await marketApi.get('/goods',{params});return((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.data)||{items:[],page:1,page_size:20,total:0};}// 获取单个饰品详情（通过CSQAQ）\nasync getGoodDetail(id){const response=await marketApi.get('/good',{params:{id}});return response.data;// { code, msg, data }\n}// 立即采样某个饰品（后端创建一条快照）\nasync sampleGoodNow(id){const response=await marketApi.post('/good/snapshot',{id:Number(id)});return response.data;}// 全量初始化（ID扫描）\nasync startFullInit(params){const response=await marketApi.post('/init-goods-full/start',params||{});return response.data;}async getFullInitStatus(){var _response$data3;const response=await marketApi.get('/init-goods-full/status');return((_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.status)||{};}async stopFullInit(){const response=await marketApi.post('/init-goods-full/stop',{});return response.data;}// 搜索市场物品\nasync searchItems(query){let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let limit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;try{const response=await marketApi.get('/items',{params:{search:query,page,limit}});// 检查响应格式并转换\nif(response.data&&response.data.code===200){return{items:response.data.data.items||[],total:response.data.data.total||0,page:response.data.data.page||page,limit:response.data.data.limit||limit};}return response.data;}catch(error){console.error('搜索物品失败:',error);// 返回模拟数据作为fallback\nreturn this.getMockSearchResult(query);}}// 获取物品价格历史\nasync getPriceHistory(itemId){let days=arguments.length>1&&arguments[1]!==undefined?arguments[1]:7;try{const response=await marketApi.get(\"/items/\".concat(itemId,\"/history\"),{params:{days,platforms:'steam,buff,youpin,c5game,igxe'}});// 检查响应格式并转换\nif(response.data&&response.data.code===200){return response.data.data;}return response.data;}catch(error){console.error('获取价格历史失败:',error);// 返回模拟数据作为fallback\nreturn this.getMockPriceHistory(itemId,days);}}// 获取当前价格\nasync getCurrentPrices(itemId){try{const response=await marketApi.get(\"/items/\".concat(itemId,\"/prices\"));// 检查响应格式并转换\nif(response.data&&response.data.code===200){return response.data.data.prices;}return response.data.prices||response.data;}catch(error){console.error('获取当前价格失败:',error);// 返回模拟数据作为fallback\nreturn this.getMockCurrentPrices();}}// 获取热门物品\nasync getPopularItems(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;try{const response=await marketApi.get('/popular',{params:{limit}});// 检查响应格式并转换\nif(response.data&&response.data.code===200){return response.data.data.items||[];}return response.data.items||response.data||[];}catch(error){console.error('获取热门物品失败:',error);// 返回模拟数据作为fallback\nreturn this.getMockPopularItems();}}// 获取价格变动排行\nasync getPriceMovers(){let type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'gainers';let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;try{const response=await marketApi.get(\"/market/movers/\".concat(type),{params:{limit}});return response.data.items;}catch(error){console.error('获取价格变动失败:',error);return[];}}// 获取K线图数据（改为CSQAQ指数K线 /api/v1/sub/kline）\nasync getKlineDataByIndex(indexId){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'1day';// 避免与全局 axios.defaults.baseURL ('/api/v1') 叠加，url 不要再带 '/api/v1'\nconst response=await axios.get(\"/sub/kline\",{baseURL:'/api/v1',params:{id:indexId,type}});return response.data;}// 模拟数据方法 - 当API不可用时使用\ngetMockSearchResult(query){const mockItems=[{id:'1',name:'AK-47 | Redline (Field-Tested)',market_name:'AK-47 | Redline (Field-Tested)',icon_url:'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot7HxfDhjxszJemkV09-5lpKKqPrxN7LEmyVQ7MEpiLuSrYmnjQO3-UdsZGHyd4_Bd1RvNQ7T_FDrw-_ng5Pu75iY1zI97bhJhJJl/360fx360f',type:'Rifle',rarity:'Classified',exterior:'Field-Tested',weapon:'AK-47'},{id:'2',name:'AWP | Dragon Lore (Factory New)',market_name:'AWP | Dragon Lore (Factory New)',icon_url:'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot621FAR17PLfYQJD_9W7m5a0mvLwOq7c2D8G68Nz3-qWpI2t2wDi_0Y4YmGhJY6UdQE2aVyF-gK9kuvxxcjrjJGdwXFhvCUj7HfVgVXp1kpMPOJxxavJVUyLUPISXPLPUg/360fx360f',type:'Sniper Rifle',rarity:'Covert',exterior:'Factory New',weapon:'AWP'}];return{items:mockItems.filter(item=>item.name.toLowerCase().includes(query.toLowerCase())),total:mockItems.length,page:1,limit:20};}getMockPriceHistory(itemId,days){const data=[];const platforms=['steam','buff','youpin','c5game','igxe'];const basePrice=Math.random()*100+50;for(let i=days;i>=0;i--){const date=new Date();date.setDate(date.getDate()-i);platforms.forEach(platform=>{const variation=(Math.random()-0.5)*20;data.push({timestamp:date.toISOString(),price:Math.max(basePrice+variation,10),volume:Math.floor(Math.random()*100)+10,platform});});}return{item_name:\"Mock Item \".concat(itemId),item_id:itemId,data,period:\"\".concat(days,\"d\")};}getMockCurrentPrices(){return{steam:Math.random()*100+50,buff:Math.random()*100+45,youpin:Math.random()*100+48,c5game:Math.random()*100+52,igxe:Math.random()*100+47};}getMockPopularItems(){return[{id:'1',name:'AK-47 | Redline (Field-Tested)',market_name:'AK-47 | Redline (Field-Tested)',icon_url:'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot7HxfDhjxszJemkV09-5lpKKqPrxN7LEmyVQ7MEpiLuSrYmnjQO3-UdsZGHyd4_Bd1RvNQ7T_FDrw-_ng5Pu75iY1zI97bhJhJJl/360fx360f',type:'Rifle',rarity:'Classified'},{id:'2',name:'M4A4 | Howl (Minimal Wear)',market_name:'M4A4 | Howl (Minimal Wear)',icon_url:'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpou-6kejhz2v_Nfz5H_uO1gb-Gw_alDLPIhm5u5Mx2gv2P8d2t2wDsqEo_ZmGmLYGRdlQ3aVnU-lLqxOjxxcjrjJGdwXFhvCUj7HfVgVXp1kpMPOJxxavJVUyLUPISXPLPUg/360fx360f',type:'Rifle',rarity:'Contraband'}];}getMockKlineData(itemId,interval,limit){const data=[];const basePrice=150;// Parse interval to determine time step in milliseconds\nlet timeStep;switch(interval){case'1m':timeStep=60*1000;break;case'5m':timeStep=5*60*1000;break;case'15m':timeStep=15*60*1000;break;case'30m':timeStep=30*60*1000;break;case'1h':timeStep=60*60*1000;break;case'4h':timeStep=4*60*60*1000;break;case'1d':timeStep=24*60*60*1000;break;default:timeStep=60*60*1000;// 1 hour\n}const now=Date.now();for(let i=limit-1;i>=0;i--){const timestamp=Math.floor((now-i*timeStep)/1000);// Generate realistic OHLCV data\nconst seed=timestamp;const open=basePrice+(seed%200-100)/10;const variation=(seed%100-50)/20;const high=open+seed%50/10+2;const low=open-seed%40/10-1;const close=open+variation;// Ensure price relationships are correct\nconst adjustedHigh=Math.max(high,open,close)+0.5;const adjustedLow=Math.min(low,open,close)-0.5;const volume=100+seed%500;data.push({timestamp,open:Math.round(open*100)/100,high:Math.round(adjustedHigh*100)/100,low:Math.round(adjustedLow*100)/100,close:Math.round(close*100)/100,volume});}return{item_name:\"Mock Item \".concat(itemId),item_id:itemId,interval,kline:data};}}export const marketApiService=new MarketApiService();","map":{"version":3,"names":["axios","MARKET_API_BASE_URL","marketApi","create","baseURL","timeout","headers","MarketApiService","initGoods","keyword","_response$data","pageSize","arguments","length","undefined","response","post","page_size","data","count","items","listGoods","params","_response$data2","get","page","total","getGoodDetail","id","sampleGoodNow","Number","startFullInit","getFullInitStatus","_response$data3","status","stopFullInit","searchItems","query","limit","search","code","error","console","getMockSearchResult","getPriceHistory","itemId","days","concat","platforms","getMockPriceHistory","getCurrentPrices","prices","getMockCurrentPrices","getPopularItems","getMockPopularItems","getPriceMovers","type","getKlineDataByIndex","indexId","mockItems","name","market_name","icon_url","rarity","exterior","weapon","filter","item","toLowerCase","includes","basePrice","Math","random","i","date","Date","setDate","getDate","forEach","platform","variation","push","timestamp","toISOString","price","max","volume","floor","item_name","item_id","period","steam","buff","youpin","c5game","igxe","getMockKlineData","interval","timeStep","now","seed","open","high","low","close","adjustedHigh","adjustedLow","min","round","kline","marketApiService"],"sources":["/Users/user/Downloads/csgoAuto/web/src/services/marketApiService.ts"],"sourcesContent":["import axios from 'axios';\n\n// 使用本地Go后端代理，避免CORS问题\nconst MARKET_API_BASE_URL = '/api/v1/csqaq';\n\n// 创建axios实例用于本地代理API\nconst marketApi = axios.create({\n  baseURL: MARKET_API_BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// 市场数据接口定义\nexport interface MarketItemData {\n  id: string;\n  name: string;\n  market_name: string;\n  icon_url: string;\n  type: string;\n  rarity: string;\n  exterior?: string;\n  weapon?: string;\n}\n\nexport interface PriceData {\n  timestamp: string;\n  price: number;\n  volume: number;\n  platform: string;\n}\n\nexport interface MarketPriceChart {\n  item_name: string;\n  item_id: string;\n  data: PriceData[];\n  period: string;\n}\n\nexport interface CurrentPrice {\n  steam: number;\n  buff: number;\n  youpin: number;\n  c5game: number;\n  igxe: number;\n}\n\nexport interface MarketSearchResult {\n  items: MarketItemData[];\n  total: number;\n  page: number;\n  limit: number;\n}\n\nexport interface KlineData {\n  timestamp: number;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n}\n\nexport interface KlineResponse {\n  item_name: string;\n  item_id: string;\n  interval: string;\n  kline: KlineData[];\n}\n\n// CSQAQ 指数K线返回结构\nexport interface IndexKlinePoint {\n  t: string; // timestamp in ms string\n  o: number;\n  c: number;\n  h: number;\n  l: number;\n  v: number;\n}\n\nexport interface IndexKlineResponse {\n  code: number;\n  msg: string;\n  data: IndexKlinePoint[];\n}\n\n// Apifox 周期类型\nexport type IndexKlineType = '1hour' | '4hour' | '1day' | '7day';\n\nclass MarketApiService {\n  // 初始化饰品ID（按输入关键词）\n  async initGoods(keyword: string, pageSize: number = 50): Promise<{count:number, items:any[]}> {\n    const response = await marketApi.post('/init-goods', { keyword, page_size: pageSize });\n    return response.data?.data || { count: 0, items: [] };\n  }\n\n  // 列出已保存的饰品ID\n  async listGoods(params?: { search?: string; page?: number; page_size?: number }) {\n    const response = await marketApi.get('/goods', { params });\n    return response.data?.data || { items: [], page: 1, page_size: 20, total: 0 };\n  }\n\n  // 获取单个饰品详情（通过CSQAQ）\n  async getGoodDetail(id: number | string) {\n    const response = await marketApi.get('/good', { params: { id } });\n    return response.data; // { code, msg, data }\n  }\n\n  // 立即采样某个饰品（后端创建一条快照）\n  async sampleGoodNow(id: number | string) {\n    const response = await marketApi.post('/good/snapshot', { id: Number(id) });\n    return response.data;\n  }\n\n  // 全量初始化（ID扫描）\n  async startFullInit(params?: { start_id?: number; end_id?: number; throttle_ms?: number }) {\n    const response = await marketApi.post('/init-goods-full/start', params || {});\n    return response.data;\n  }\n  async getFullInitStatus() {\n    const response = await marketApi.get('/init-goods-full/status');\n    return response.data?.status || {};\n  }\n  async stopFullInit() {\n    const response = await marketApi.post('/init-goods-full/stop', {});\n    return response.data;\n  }\n  // 搜索市场物品\n  async searchItems(query: string, page: number = 1, limit: number = 20): Promise<MarketSearchResult> {\n    try {\n      const response = await marketApi.get('/items', {\n        params: {\n          search: query,\n          page,\n          limit\n        }\n      });\n      \n      // 检查响应格式并转换\n      if (response.data && response.data.code === 200) {\n        return {\n          items: response.data.data.items || [],\n          total: response.data.data.total || 0,\n          page: response.data.data.page || page,\n          limit: response.data.data.limit || limit\n        };\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('搜索物品失败:', error);\n      // 返回模拟数据作为fallback\n      return this.getMockSearchResult(query);\n    }\n  }\n\n  // 获取物品价格历史\n  async getPriceHistory(itemId: string, days: number = 7): Promise<MarketPriceChart> {\n    try {\n      const response = await marketApi.get(`/items/${itemId}/history`, {\n        params: {\n          days,\n          platforms: 'steam,buff,youpin,c5game,igxe'\n        }\n      });\n      \n      // 检查响应格式并转换\n      if (response.data && response.data.code === 200) {\n        return response.data.data;\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('获取价格历史失败:', error);\n      // 返回模拟数据作为fallback\n      return this.getMockPriceHistory(itemId, days);\n    }\n  }\n\n  // 获取当前价格\n  async getCurrentPrices(itemId: string): Promise<CurrentPrice> {\n    try {\n      const response = await marketApi.get(`/items/${itemId}/prices`);\n      \n      // 检查响应格式并转换\n      if (response.data && response.data.code === 200) {\n        return response.data.data.prices;\n      }\n      \n      return response.data.prices || response.data;\n    } catch (error) {\n      console.error('获取当前价格失败:', error);\n      // 返回模拟数据作为fallback\n      return this.getMockCurrentPrices();\n    }\n  }\n\n  // 获取热门物品\n  async getPopularItems(limit: number = 50): Promise<MarketItemData[]> {\n    try {\n      const response = await marketApi.get('/popular', {\n        params: { limit }\n      });\n      \n      // 检查响应格式并转换\n      if (response.data && response.data.code === 200) {\n        return response.data.data.items || [];\n      }\n      \n      return response.data.items || response.data || [];\n    } catch (error) {\n      console.error('获取热门物品失败:', error);\n      // 返回模拟数据作为fallback\n      return this.getMockPopularItems();\n    }\n  }\n\n  // 获取价格变动排行\n  async getPriceMovers(type: 'gainers' | 'losers' = 'gainers', limit: number = 20): Promise<any[]> {\n    try {\n      const response = await marketApi.get(`/market/movers/${type}`, {\n        params: { limit }\n      });\n      return response.data.items;\n    } catch (error) {\n      console.error('获取价格变动失败:', error);\n      return [];\n    }\n  }\n\n  // 获取K线图数据（改为CSQAQ指数K线 /api/v1/sub/kline）\n  async getKlineDataByIndex(indexId: string, type: IndexKlineType = '1day'): Promise<IndexKlineResponse> {\n    // 避免与全局 axios.defaults.baseURL ('/api/v1') 叠加，url 不要再带 '/api/v1'\n    const response = await axios.get(`/sub/kline`, {\n      baseURL: '/api/v1',\n      params: { id: indexId, type }\n    });\n    return response.data;\n  }\n\n  // 模拟数据方法 - 当API不可用时使用\n  private getMockSearchResult(query: string): MarketSearchResult {\n    const mockItems: MarketItemData[] = [\n      {\n        id: '1',\n        name: 'AK-47 | Redline (Field-Tested)',\n        market_name: 'AK-47 | Redline (Field-Tested)',\n        icon_url: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot7HxfDhjxszJemkV09-5lpKKqPrxN7LEmyVQ7MEpiLuSrYmnjQO3-UdsZGHyd4_Bd1RvNQ7T_FDrw-_ng5Pu75iY1zI97bhJhJJl/360fx360f',\n        type: 'Rifle',\n        rarity: 'Classified',\n        exterior: 'Field-Tested',\n        weapon: 'AK-47'\n      },\n      {\n        id: '2',\n        name: 'AWP | Dragon Lore (Factory New)',\n        market_name: 'AWP | Dragon Lore (Factory New)',\n        icon_url: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot621FAR17PLfYQJD_9W7m5a0mvLwOq7c2D8G68Nz3-qWpI2t2wDi_0Y4YmGhJY6UdQE2aVyF-gK9kuvxxcjrjJGdwXFhvCUj7HfVgVXp1kpMPOJxxavJVUyLUPISXPLPUg/360fx360f',\n        type: 'Sniper Rifle',\n        rarity: 'Covert',\n        exterior: 'Factory New',\n        weapon: 'AWP'\n      }\n    ];\n\n    return {\n      items: mockItems.filter(item => \n        item.name.toLowerCase().includes(query.toLowerCase())\n      ),\n      total: mockItems.length,\n      page: 1,\n      limit: 20\n    };\n  }\n\n  private getMockPriceHistory(itemId: string, days: number): MarketPriceChart {\n    const data: PriceData[] = [];\n    const platforms = ['steam', 'buff', 'youpin', 'c5game', 'igxe'];\n    const basePrice = Math.random() * 100 + 50;\n\n    for (let i = days; i >= 0; i--) {\n      const date = new Date();\n      date.setDate(date.getDate() - i);\n      \n      platforms.forEach(platform => {\n        const variation = (Math.random() - 0.5) * 20;\n        data.push({\n          timestamp: date.toISOString(),\n          price: Math.max(basePrice + variation, 10),\n          volume: Math.floor(Math.random() * 100) + 10,\n          platform\n        });\n      });\n    }\n\n    return {\n      item_name: `Mock Item ${itemId}`,\n      item_id: itemId,\n      data,\n      period: `${days}d`\n    };\n  }\n\n  private getMockCurrentPrices(): CurrentPrice {\n    return {\n      steam: Math.random() * 100 + 50,\n      buff: Math.random() * 100 + 45,\n      youpin: Math.random() * 100 + 48,\n      c5game: Math.random() * 100 + 52,\n      igxe: Math.random() * 100 + 47\n    };\n  }\n\n  private getMockPopularItems(): MarketItemData[] {\n    return [\n      {\n        id: '1',\n        name: 'AK-47 | Redline (Field-Tested)',\n        market_name: 'AK-47 | Redline (Field-Tested)',\n        icon_url: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpot7HxfDhjxszJemkV09-5lpKKqPrxN7LEmyVQ7MEpiLuSrYmnjQO3-UdsZGHyd4_Bd1RvNQ7T_FDrw-_ng5Pu75iY1zI97bhJhJJl/360fx360f',\n        type: 'Rifle',\n        rarity: 'Classified'\n      },\n      {\n        id: '2',\n        name: 'M4A4 | Howl (Minimal Wear)',\n        market_name: 'M4A4 | Howl (Minimal Wear)',\n        icon_url: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpou-6kejhz2v_Nfz5H_uO1gb-Gw_alDLPIhm5u5Mx2gv2P8d2t2wDsqEo_ZmGmLYGRdlQ3aVnU-lLqxOjxxcjrjJGdwXFhvCUj7HfVgVXp1kpMPOJxxavJVUyLUPISXPLPUg/360fx360f',\n        type: 'Rifle',\n        rarity: 'Contraband'\n      }\n    ];\n  }\n\n  private getMockKlineData(itemId: string, interval: string, limit: number): KlineResponse {\n    const data: KlineData[] = [];\n    const basePrice = 150;\n\n    // Parse interval to determine time step in milliseconds\n    let timeStep: number;\n    switch (interval) {\n      case '1m':\n        timeStep = 60 * 1000;\n        break;\n      case '5m':\n        timeStep = 5 * 60 * 1000;\n        break;\n      case '15m':\n        timeStep = 15 * 60 * 1000;\n        break;\n      case '30m':\n        timeStep = 30 * 60 * 1000;\n        break;\n      case '1h':\n        timeStep = 60 * 60 * 1000;\n        break;\n      case '4h':\n        timeStep = 4 * 60 * 60 * 1000;\n        break;\n      case '1d':\n        timeStep = 24 * 60 * 60 * 1000;\n        break;\n      default:\n        timeStep = 60 * 60 * 1000; // 1 hour\n    }\n\n    const now = Date.now();\n    for (let i = limit - 1; i >= 0; i--) {\n      const timestamp = Math.floor((now - i * timeStep) / 1000);\n\n      // Generate realistic OHLCV data\n      const seed = timestamp;\n      const open = basePrice + ((seed % 200) - 100) / 10;\n      const variation = ((seed % 100) - 50) / 20;\n\n      const high = open + (seed % 50) / 10 + 2;\n      const low = open - (seed % 40) / 10 - 1;\n      const close = open + variation;\n\n      // Ensure price relationships are correct\n      const adjustedHigh = Math.max(high, open, close) + 0.5;\n      const adjustedLow = Math.min(low, open, close) - 0.5;\n\n      const volume = 100 + (seed % 500);\n\n      data.push({\n        timestamp,\n        open: Math.round(open * 100) / 100,\n        high: Math.round(adjustedHigh * 100) / 100,\n        low: Math.round(adjustedLow * 100) / 100,\n        close: Math.round(close * 100) / 100,\n        volume\n      });\n    }\n\n    return {\n      item_name: `Mock Item ${itemId}`,\n      item_id: itemId,\n      interval,\n      kline: data\n    };\n  }\n}\n\nexport const marketApiService = new MarketApiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}