
2025/09/30 14:26:41 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:42 [33mSLOW SQL >= 200ms
[0m[31;1m[226.574ms] [33m[rows:0][35m SET FOREIGN_KEY_CHECKS=0[0m

2025/09/30 14:26:41 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:46 [33mSLOW SQL >= 200ms
[0m[31;1m[223.722ms] [33m[rows:-][35m SELECT DATABASE()[0m

2025/09/30 14:26:42 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:46 [33mSLOW SQL >= 200ms
[0m[31;1m[452.143ms] [33m[rows:1][35m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'csgo_trader%' ORDER BY SCHEMA_NAME='csgo_trader' DESC,SCHEMA_NAME limit 1[0m

2025/09/30 14:26:42 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:46 [33mSLOW SQL >= 200ms
[0m[31;1m[451.500ms] [33m[rows:-][35m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'csgo_trader' AND table_name = 'you_pin_price_snapshots' AND table_type = 'BASE TABLE'[0m

2025/09/30 14:26:42 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:46 [33mSLOW SQL >= 200ms
[0m[31;1m[244.512ms] [33m[rows:0][35m CREATE TABLE `you_pin_price_snapshots` (`id` bigint unsigned AUTO_INCREMENT,`template_id` bigint NOT NULL,`commodity_name` longtext,`highest_buy_price` double,`lowest_sell_price` double,`buy_order_count` bigint,`sell_order_count` bigint,`snapshot_time` datetime(3) NULL,`created_at` datetime(3) NULL,PRIMARY KEY (`id`),INDEX `idx_you_pin_price_snapshots_template_id` (`template_id`),INDEX `idx_you_pin_price_snapshots_snapshot_time` (`snapshot_time`))[0m

2025/09/30 14:26:42 [32m/Users/user/Downloads/csgoAuto/internal/database/database.go:52 [33mSLOW SQL >= 200ms
[0m[31;1m[227.731ms] [33m[rows:0][35m SET FOREIGN_KEY_CHECKS=1[0m
2025/09/30 14:26:42 Database initialized successfully
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] GET    /favicon.ico              --> main.main.(*RouterGroup).StaticFile.func6 (4 handlers)
[GIN-debug] HEAD   /favicon.ico              --> main.main.(*RouterGroup).StaticFile.func6 (4 handlers)
[GIN-debug] GET    /manifest.json            --> main.main.(*RouterGroup).StaticFile.func7 (4 handlers)
[GIN-debug] HEAD   /manifest.json            --> main.main.(*RouterGroup).StaticFile.func7 (4 handlers)
[GIN-debug] GET    /logo192.png              --> main.main.(*RouterGroup).StaticFile.func8 (4 handlers)
[GIN-debug] HEAD   /logo192.png              --> main.main.(*RouterGroup).StaticFile.func8 (4 handlers)
[GIN-debug] GET    /                         --> main.main.func2 (4 handlers)
[GIN-debug] GET    /health                   --> main.main.func3 (4 handlers)
[GIN-debug] GET    /api/v1/auth/steam/login  --> csgo-trader/internal/api.(*APIHandler).SteamLogin-fm (4 handlers)
[GIN-debug] GET    /api/v1/auth/steam/callback --> csgo-trader/internal/api.(*APIHandler).SteamCallback-fm (4 handlers)
[GIN-debug] POST   /api/v1/auth/logout       --> csgo-trader/internal/api.(*APIHandler).Logout-fm (4 handlers)
[GIN-debug] GET    /api/v1/auth/me           --> csgo-trader/internal/api.(*APIHandler).GetCurrentUser-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/sub/kline   --> csgo-trader/internal/api.(*APIHandler).ProxyCSQAQIndexKline-fm (4 handlers)
[GIN-debug] POST   /api/v1/csqaq/init-goods  --> csgo-trader/internal/api.(*APIHandler).InitCSQAQGoods-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/goods       --> csgo-trader/internal/api.(*APIHandler).ListCSQAQGoods-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/good        --> csgo-trader/internal/api.(*APIHandler).GetCSQAQGoodDetail-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/good/kline  --> csgo-trader/internal/api.(*APIHandler).GetGoodKline-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/good/derived_kline --> csgo-trader/internal/api.(*APIHandler).GetGoodDerivedKline-fm (4 handlers)
[GIN-debug] POST   /api/v1/csqaq/good/snapshot --> csgo-trader/internal/api.(*APIHandler).SampleGoodSnapshot-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/recommendations --> csgo-trader/internal/api.(*APIHandler).GetPurchaseRecommendations-fm (4 handlers)
[GIN-debug] POST   /api/v1/csqaq/init-goods-full/start --> csgo-trader/internal/api.(*APIHandler).StartFullInit-fm (4 handlers)
[GIN-debug] GET    /api/v1/csqaq/init-goods-full/status --> csgo-trader/internal/api.(*APIHandler).FullInitStatus-fm (4 handlers)
[GIN-debug] POST   /api/v1/csqaq/init-goods-full/stop --> csgo-trader/internal/api.(*APIHandler).StopFullInit-fm (4 handlers)
[GIN-debug] GET    /api/v1/sub/kline         --> csgo-trader/internal/api.(*APIHandler).ProxyCSQAQIndexKline-fm (4 handlers)
[GIN-debug] POST   /api/v1/forecast/run      --> csgo-trader/internal/api.(*APIHandler).RunForecast-fm (4 handlers)
[GIN-debug] GET    /api/v1/forecast/backtest --> csgo-trader/internal/api.(*APIHandler).BacktestForecast-fm (4 handlers)
[GIN-debug] POST   /api/v1/forecast/backtest --> csgo-trader/internal/api.(*APIHandler).BacktestForecastPost-fm (4 handlers)
[GIN-debug] GET    /api/v1/forecast/history  --> csgo-trader/internal/api.(*APIHandler).ListForecastHistory-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/accounts   --> csgo-trader/internal/api.(*APIHandler).AddYouPinAccount-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/accounts   --> csgo-trader/internal/api.(*APIHandler).GetYouPinAccounts-fm (4 handlers)
[GIN-debug] DELETE /api/v1/youpin/accounts/:id --> csgo-trader/internal/api.(*APIHandler).DeleteYouPinAccount-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/accounts/:id/reactivate --> csgo-trader/internal/api.(*APIHandler).ReactivateYouPinAccount-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/config     --> csgo-trader/internal/api.(*APIHandler).GetYouPinConfig-fm (4 handlers)
[GIN-debug] PUT    /api/v1/youpin/config     --> csgo-trader/internal/api.(*APIHandler).UpdateYouPinConfig-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/auto-sell/start --> csgo-trader/internal/api.(*APIHandler).StartAutoSell-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/auto-change-price/start --> csgo-trader/internal/api.(*APIHandler).StartAutoChangePrice-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/auto-accept-offer/start --> csgo-trader/internal/api.(*APIHandler).StartAutoAcceptOffer-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/orders     --> csgo-trader/internal/api.(*APIHandler).GetYouPinOrders-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/inventory  --> csgo-trader/internal/api.(*APIHandler).GetYouPinInventory-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/send-sms   --> csgo-trader/internal/api.(*APIHandler).SendYouPinSMS-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/login-with-phone --> csgo-trader/internal/api.(*APIHandler).LoginYouPinWithPhone-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/search     --> csgo-trader/internal/api.(*APIHandler).SearchYouPinCommodities-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/search/items --> csgo-trader/internal/api.(*APIHandler).SearchYouPinItems-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/commodity/list --> csgo-trader/internal/api.(*APIHandler).GetYouPinCommodityList-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/filter/config --> csgo-trader/internal/api.(*APIHandler).GetYouPinFilterConfig-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/commodity/:template_id --> csgo-trader/internal/api.(*APIHandler).GetYouPinCommodityDetails-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/market/items --> csgo-trader/internal/api.(*APIHandler).GetYouPinMarketItems-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/orders --> csgo-trader/internal/api.(*APIHandler).GetYouPinPurchaseOrders-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/buy        --> csgo-trader/internal/api.(*APIHandler).BuyFromYouPinMarket-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/buy-with-balance --> csgo-trader/internal/api.(*APIHandler).BuyFromYouPinMarketWithBalance-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/buy-multistep --> csgo-trader/internal/api.(*APIHandler).MultiStepBuyFromYouPinMarket-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase   --> csgo-trader/internal/api.(*APIHandler).CreateYouPinPurchaseOrder-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/info --> csgo-trader/internal/api.(*APIHandler).GetTemplatePurchaseInfo-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/detail --> csgo-trader/internal/api.(*APIHandler).GetPurchaseOrderDetail-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/supply-list --> csgo-trader/internal/api.(*APIHandler).GetPurchaseSupplyList-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/list --> csgo-trader/internal/api.(*APIHandler).GetTemplatePurchaseOrderList-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/my-list --> csgo-trader/internal/api.(*APIHandler).SearchMyPurchaseOrderList-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/delete --> csgo-trader/internal/api.(*APIHandler).DeletePurchaseOrder-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/purchase/update --> csgo-trader/internal/api.(*APIHandler).UpdatePurchaseOrder-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/sell-item  --> csgo-trader/internal/api.(*APIHandler).SellYouPinItem-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/sellable-items --> csgo-trader/internal/api.(*APIHandler).GetSellableItems-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/sell-list  --> csgo-trader/internal/api.(*APIHandler).GetSellList-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/sell-by-name --> csgo-trader/internal/api.(*APIHandler).SellItemByName-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/sell-by-index --> csgo-trader/internal/api.(*APIHandler).SellItemsByIndex-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/instant-sell --> csgo-trader/internal/api.(*APIHandler).InstantSellItems-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/change-price --> csgo-trader/internal/api.(*APIHandler).ChangeYouPinPrice-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/off-sale   --> csgo-trader/internal/api.(*APIHandler).OffSaleYouPinItems-fm (4 handlers)
[GIN-debug] POST   /api/v1/youpin/arbitrage/collect-prices --> csgo-trader/internal/api.(*APIHandler).CollectPriceSnapshots-fm (4 handlers)
[GIN-debug] GET    /api/v1/youpin/arbitrage/opportunities --> csgo-trader/internal/api.(*APIHandler).GetArbitrageOpportunities-fm (4 handlers)
[GIN-debug] GET    /api/v1/steam/credentials --> csgo-trader/internal/api.(*APIHandler).GetSteamCredentials-fm (4 handlers)
[GIN-debug] PUT    /api/v1/steam/credentials --> csgo-trader/internal/api.(*APIHandler).UpdateSteamCredentials-fm (4 handlers)
[GIN-debug] POST   /api/v1/steam/login       --> csgo-trader/internal/api.(*APIHandler).LoginSteamAndGetKey-fm (4 handlers)
2025/09/30 14:26:42 Server starting on port 8080
[GIN] 2025/09/30 - 14:26:44 | 200 |         141Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:26:49 | 200 |      25.833Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:26:54 | 200 |      28.458Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:26:59 | 200 |      23.333Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:27:04 | 200 |      22.209Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:27:06 | 200 |    6.722833ms |             ::1 | GET      "/csqaq/goods"
[GIN] 2025/09/30 - 14:27:06 | 200 |     770.792Âµs |             ::1 | GET      "/static/css/main.37ea8e9a.css"
[GIN] 2025/09/30 - 14:27:06 | 200 |   11.457333ms |             ::1 | GET      "/static/js/main.16fffe28.js"
[GIN] 2025/09/30 - 14:27:06 | 200 |      25.292Âµs |             ::1 | GET      "/api/v1/csqaq/init-goods-full/status"
[GIN] 2025/09/30 - 14:27:06 | 404 |     140.375Âµs |             ::1 | GET      "/manifest.json"

2025/09/30 14:27:07 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:793 [33mSLOW SQL >= 200ms
[0m[31;1m[311.610ms] [33m[rows:0][35m 
        DELETE FROM csqaq_good_snapshots
        WHERE good_id NOT IN (
            SELECT DISTINCT good_id FROM csqaq_goods
        )
    [0m

2025/09/30 14:27:07 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:808 [33mSLOW SQL >= 200ms
[0m[31;1m[225.277ms] [33m[rows:1][35m SELECT count(*) FROM `csqaq_goods`[0m

2025/09/30 14:27:07 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:809 [33mSLOW SQL >= 200ms
[0m[31;1m[228.903ms] [33m[rows:20][35m SELECT * FROM `csqaq_goods` ORDER BY good_id ASC LIMIT 20[0m

2025/09/30 14:27:08 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:843 [33mSLOW SQL >= 200ms
[0m[31;1m[488.442ms] [33m[rows:20][35m 
            SELECT
                s1.good_id as good_id,
                COUNT(s2.id) as cnt,
                MAX(s1.created_at) as last,
                s1.yyyp_sell_price,
                s1.buff_sell_price
            FROM csqaq_good_snapshots s1
            LEFT JOIN csqaq_good_snapshots s2 ON s1.good_id = s2.good_id
            WHERE s1.good_id IN (110,111,112,113,114,1260,1357,1358,1359,1360,1443,1444,1445,1446,2541,2542,2897,2898,2899,3526)
            AND s1.created_at = (
                SELECT MAX(s3.created_at)
                FROM csqaq_good_snapshots s3
                WHERE s3.good_id = s1.good_id
            )
            GROUP BY s1.good_id, s1.yyyp_sell_price, s1.buff_sell_price
        [0m
[GIN] 2025/09/30 - 14:27:08 | 200 |  1.255033833s |             ::1 | GET      "/api/v1/csqaq/goods?search=&page=1&page_size=20"

2025/09/30 14:27:09 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:4863 [33mSLOW SQL >= 200ms
[0m[31;1m[233.113ms] [33m[rows:0][35m SELECT DISTINCT `template_id` FROM `you_pin_price_snapshots`[0m
[GIN] 2025/09/30 - 14:27:09 | 200 |  233.388208ms |             ::1 | GET      "/api/v1/youpin/arbitrage/opportunities?min_profit_rate=0.05&min_days_history=7&limit=100"

2025/09/30 14:27:14 [32m/Users/user/Downloads/csgoAuto/internal/api/api.go:4863 [33mSLOW SQL >= 200ms
[0m[31;1m[225.172ms] [33m[rows:0][35m SELECT DISTINCT `template_id` FROM `you_pin_price_snapshots`[0m
[GIN] 2025/09/30 - 14:27:14 | 200 |  225.304125ms |             ::1 | GET      "/api/v1/youpin/arbitrage/opportunities?min_profit_rate=0.05&min_days_history=7&limit=100"
